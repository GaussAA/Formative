# å®šå‹ Formative MVP äº§å“è§„æ ¼æ–‡æ¡£
## 1. äº§å“èƒŒæ™¯ä¸ç›®æ ‡
### 1.1 äº§å“èƒŒæ™¯
åœ¨ VibeCoding åœºæ™¯ä¸­ï¼Œå¤§é‡ç”¨æˆ·æ— æ³•æœ‰æ•ˆè½åœ°è‡ªå·±çš„äº§å“æƒ³æ³•ï¼Œæ ¸å¿ƒé—®é¢˜å¹¶ä¸åœ¨äº AI èƒ½å¦å†™ä»£ç ï¼Œè€Œåœ¨äºï¼š
- ç”¨æˆ·æ— æ³•æ¸…æ™°æè¿°éœ€æ±‚
- ç”¨æˆ·ä¸çŸ¥é“å“ªäº›ä¿¡æ¯æ˜¯â€œå·¥ç¨‹ä¸Šå¿…é¡»çš„â€
- ç”¨æˆ·æ— æ³•åˆ¤æ–­ AI è¾“å‡ºæ˜¯å¦åˆç†
- éœ€æ±‚åœ¨åå¤ä¿®æ”¹ä¸­ä¸æ–­å¤±çœŸ

å®šå‹ï¼ˆFormativeï¼‰ æ˜¯ä¸€ä¸ªä½äºã€ŒAI å†™ä»£ç ä¹‹å‰ã€çš„å‰ç½®å·¥å…·ï¼Œç”¨äºå¸®åŠ©ç”¨æˆ·å°†æ¨¡ç³Šã€ç™½è¯å¼çš„æƒ³æ³•ï¼Œç³»ç»Ÿæ€§åœ°è½¬åŒ–ä¸º AI å¯æ‰§è¡Œçš„å¼€å‘æ–¹æ¡ˆã€‚

### 1.2 MVP äº§å“ç›®æ ‡ï¼ˆMust Haveï¼‰
MVP é˜¶æ®µï¼Œå®šå‹åªèšç„¦ä¸€ä¸ªç›®æ ‡ï¼š
> åœ¨ä¸€æ¬¡å¯¹è¯æµç¨‹ä¸­ï¼Œå¼•å¯¼ç”¨æˆ·å®Œæˆéœ€æ±‚æ¾„æ¸…ï¼Œå¹¶ç”Ÿæˆä¸€ä»½å¯ç›´æ¥äº¤ç»™ AI å¼€å‘çš„å®Œæ•´å¼€å‘æ–‡æ¡£ã€‚

å…·ä½“è€Œè¨€ï¼ŒMVP å¿…é¡»åšåˆ°ï¼š
- å¼•å¯¼ç”¨æˆ·è¡¥å…¨å…³é”®ä¿¡æ¯ï¼ˆå³ä½¿ç”¨æˆ·æœ€åˆåªæœ‰ä¸€å¥è¯ï¼‰
- æ§åˆ¶æé—®èŠ‚å¥ï¼Œé¿å…æ— é™è¿½é—®
- ç»™å‡ºåˆç†çš„æŠ€æœ¯æ–¹æ¡ˆå»ºè®®ï¼ˆé€šä¿—å¯ç†è§£ï¼‰
- æ˜ç¡®å®šä¹‰ MVP è¾¹ç•Œ
- è¾“å‡ºç»“æ„åŒ–ã€å¯å¤åˆ¶çš„æœ€ç»ˆæ–‡æ¡£

### 1.3 MVP éç›®æ ‡ï¼ˆExplicitly Out of Scopeï¼‰
ä»¥ä¸‹å†…å®¹æ˜ç¡®ä¸åœ¨ MVP èŒƒå›´å†…ï¼š
- âŒ ç”¨æˆ·æ³¨å†Œ / ç™»å½• / è´¦æˆ·ä½“ç³»
- âŒ é¡¹ç›®ç®¡ç†ï¼ˆå¤šé¡¹ç›®ã€å†å²åˆ—è¡¨ç­‰ï¼‰
- âŒ å®æ—¶åä½œ
- âŒ å¯è§†åŒ– Workflow ç¼–è¾‘å™¨
- âŒ è‡ªåŠ¨ç”Ÿæˆä»£ç 
- âŒ éƒ¨ç½² / CI / è¿è¡Œç›‘æ§
- âŒ å•†ä¸šåŒ– / è®¡è´¹

## 2. MVP åŠŸèƒ½èŒƒå›´å®šä¹‰
### 2.1 æ ¸å¿ƒç”¨æˆ·æµç¨‹ï¼ˆå•ä¸€ä¸»è·¯å¾„ï¼‰
MVP åªæ”¯æŒä¸€æ¡å¼ºå¼•å¯¼ä¸»è·¯å¾„ï¼š
1. ç”¨æˆ·è¿›å…¥é¡µé¢ï¼Œçœ‹åˆ° Chat UI
2. ç”¨æˆ·è¾“å…¥ä¸€å¥è‡ªç„¶è¯­è¨€éœ€æ±‚
3. ç³»ç»Ÿå¯åŠ¨å¤š Agent æµç¨‹ï¼Œå¼•å¯¼ç”¨æˆ·è¡¥å…¨ä¿¡æ¯
   - Agent 1ï¼šç¡®è®¤éœ€æ±‚æ˜¯å¦å®Œæ•´
   - Agent 2ï¼šè¯¢é—®ç”¨æˆ·æ˜¯å¦æœ‰ä»»ä½•å·¥ç¨‹ä¸Šçš„é™åˆ¶ï¼ˆå¦‚æ€§èƒ½ã€æˆæœ¬ç­‰ï¼‰
   - Agent 3ï¼šæ ¹æ®ç”¨æˆ·è¾“å…¥ï¼Œç”Ÿæˆåˆæ­¥çš„æŠ€æœ¯æ–¹æ¡ˆå»ºè®®
4. ç”¨æˆ·åœ¨å…³é”®èŠ‚ç‚¹åšé€‰æ‹©ï¼ˆé€‰é¡¹è€Œéè‡ªç”±è¾“å…¥ï¼‰
   - ä¾‹å¦‚ï¼šé€‰æ‹©ä½¿ç”¨çš„ AI æ¨¡å‹ã€æ•°æ®åº“ç±»å‹ç­‰
5. ç³»ç»Ÿæ ¹æ®ç”¨æˆ·é€‰æ‹©ï¼Œç”Ÿæˆæœ€ç»ˆçš„ã€Šå¼€å‘æ–¹æ¡ˆæ–‡æ¡£ã€‹
6. ç”¨æˆ·å¤åˆ¶æ–‡æ¡£å¹¶ç¦»å¼€

### 2.2 Agent é˜¶æ®µåˆ’åˆ†ï¼ˆé€»è¾‘è§†è§’ï¼‰
MVP å†…éƒ¨ä½¿ç”¨å¤š Agentï¼Œä½†å¯¹ç”¨æˆ·åªæš´éœ²â€œé˜¶æ®µæ„Ÿâ€ã€‚
| é˜¶æ®µ | å†…éƒ¨ Agent èŒè´£ |
|------|------------------|
| é˜¶æ®µ 1 | ä¿¡æ¯é‡‡é›†ä¸éœ€æ±‚æ¾„æ¸… |
| é˜¶æ®µ 2 | é£é™©è¯†åˆ«ä¸æ–¹æ¡ˆåˆ†æ­§ |
| é˜¶æ®µ 3 | æŠ€æœ¯æ ˆä¸æ¶æ„å»ºè®® |
| é˜¶æ®µ 4 | MVP è¾¹ç•Œç¡®è®¤ |
| é˜¶æ®µ 5 | å¼€å‘æ–‡æ¡£ç”Ÿæˆ |

## 3. Agent æ¶æ„è®¾è®¡ï¼ˆLangGraphï¼‰
### 3.1 æŠ€æœ¯é€‰å‹
- å¤š Agent ç¼–æ’ï¼šLangGraph (TypeScript SDK)
- æ¨¡å‹è°ƒç”¨ï¼šDeepSeek / Qwen / Ollamaï¼ˆæŠ½è±¡å°è£…ï¼‰
- è¿è¡Œå½¢æ€ï¼šNode.js
- å‰ç«¯ï¼šWeb Chat UIï¼ˆReact / Next.jsï¼‰

### 3.2 Agent åˆ—è¡¨ä¸èŒè´£
#### 3.2.1 ä¿¡æ¯é‡‡é›† Agentï¼ˆRequirement Collectorï¼‰
##### èŒè´£ï¼š
- ä»ç”¨æˆ·è¾“å…¥ä¸­æå–ä»¥ä¸‹ä¿¡æ¯ï¼š
  - äº§å“ç›®æ ‡
  - ç›®æ ‡ç”¨æˆ·
  - ä½¿ç”¨åœºæ™¯
  - æ ¸å¿ƒåŠŸèƒ½
- æ˜¯å¦éœ€è¦æ•°æ®å­˜å‚¨
- æ˜¯å¦éœ€è¦å¤šäººä½¿ç”¨
- é€šè¿‡è¿½é—®è¡¥å…¨ç¼ºå¤±é¡¹
- ä¸è§£é‡ŠæŠ€æœ¯ç»†èŠ‚ï¼Œåªåšæ¾„æ¸…

#### 3.2.2 éœ€æ±‚å®Œå¤‡åº¦è¯„ä¼° Agentï¼ˆCompleteness Evaluatorï¼‰

##### èŒè´£ï¼š
- ç»´æŠ¤ä¸€ä¸ªã€Œéœ€æ±‚ä¿¡æ¯ Checklistã€
- è®¡ç®—å½“å‰å®Œå¤‡åº¦ï¼ˆ0â€“100%ï¼‰
- åˆ¤æ–­æ˜¯å¦å¯ä»¥è¿›å…¥ä¸‹ä¸€é˜¶æ®µ

##### ç¤ºä¾‹ Checklistï¼š
- äº§å“ç›®æ ‡æ˜ç¡®
- æ ¸å¿ƒä½¿ç”¨åœºæ™¯æ˜ç¡®
- æ˜¯å¦éœ€è¦ç™»å½•
- æ˜¯å¦éœ€è¦æ•°æ®æŒä¹…åŒ–
- MVP åŠŸèƒ½èŒƒå›´æ˜ç¡®

##### è§„åˆ™ï¼š
- å®Œå¤‡åº¦ â‰¥ 80% â†’ è‡ªåŠ¨è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
- ç”¨æˆ·å¯æ‰‹åŠ¨é€‰æ‹©ã€Œä¿¡æ¯å·²è¶³å¤Ÿï¼Œç»§ç»­ã€

#### 3.2.3 é£é™©åˆ†æ Agentï¼ˆRisk & Option Analyzerï¼‰

##### èŒè´£ï¼š
- æŒ‡å‡ºæ½œåœ¨é£é™©ï¼š
  - æŠ€æœ¯å¤æ‚åº¦è¿‡é«˜
  - éœ€æ±‚ä¸é€‚åˆ MVP
  - ç¬¬ä¸‰æ–¹ä¾èµ–é£é™©
- æä¾› 2â€“3 ç§å¯é€‰æ–¹æ¡ˆï¼ˆé™çº§ / ä¿å®ˆ / æ¿€è¿›ï¼‰
- ä½¿ç”¨é€šä¿—è¯­è¨€ï¼Œä¸ä½¿ç”¨æ¶æ„é»‘è¯

#### 3.2.4 æŠ€æœ¯é€‰å‹ Agentï¼ˆTech Stack Advisorï¼‰

##### èŒè´£ï¼š
- ç»™å‡ºæ•´ä½“æ–¹æ¡ˆç±»å‹ï¼š
  - çº¯å‰ç«¯
  - å‰åç«¯åˆ†ç¦»
  - å‰ç«¯ + BaaSï¼ˆå¦‚ Supabaseï¼‰
- è§£é‡Šæ¯ç§æ–¹æ¡ˆçš„ï¼š
  - é€‚åˆäººç¾¤
  - ä¼˜ç¼ºç‚¹
  - åæœŸæ¼”è¿›æˆæœ¬
- è¿›ä¸€æ­¥ç¡®å®šï¼š
  - å‰ç«¯æ¡†æ¶ï¼ˆReact / Vueï¼‰
  - åç«¯è¯­è¨€ï¼ˆå¦‚éœ€è¦ï¼‰
  - è¿è¡Œç¯å¢ƒç‰ˆæœ¬

#### 3.2.5 æ–‡æ¡£ç”Ÿæˆ Agentï¼ˆSpec Generatorï¼‰

##### èŒè´£ï¼š
- æ±‡æ€»æ‰€æœ‰å·²ç¡®è®¤ä¿¡æ¯
- ç”Ÿæˆç»“æ„åŒ– Markdown æ–‡æ¡£
- ä¸å¼•å…¥æ–°å‡è®¾
- æ˜ç¡®å†™å‡ºã€Œæœ¬æœŸä¸åšä»€ä¹ˆã€

## 4. è®°å¿†ä¸çŠ¶æ€è®¾è®¡ï¼ˆRedisï¼‰

### 4.1 è®¾è®¡åŸåˆ™
| ç±»å‹     | ç›®æ ‡ | å­˜å‚¨å†…å®¹ | ç”Ÿå‘½å‘¨æœŸ | å¤‡æ³¨ |
|----------|------|----------|----------|------|
| çŸ­æœŸè®°å¿† | å­˜è¿‡ç¨‹ | å½“å‰ä¼šè¯å®Œæ•´æ¶ˆæ¯ | ä¼šè¯æœŸé—´ | ç”¨äºä¸Šä¸‹æ–‡å›æº¯ä¸è°ƒè¯• |
| é•¿æœŸè®°å¿† | å­˜ç»“è®º | å·²ç¡®è®¤çš„å…³é”®ä¿¡æ¯ | å¯è·¨ä¼šè¯å¤ç”¨ | ä¸ä¿å­˜åŸå§‹èŠå¤©è®°å½•ï¼Œä»…ä¿ç•™ç»“æ„åŒ–ç»“è®º |

> åŸåˆ™ï¼šèŠå¤©è®°å½•ä¸è¿›å…¥é•¿æœŸè®°å¿†ï¼Œé¿å…å™ªéŸ³ï¼›Agent ä»…ä¾èµ–ã€Œé˜¶æ®µæ€§æ€»ç»“ã€ç»§ç»­æ¨è¿›ã€‚

### 4.2 Redis Key è®¾è®¡ï¼ˆMVPï¼‰
session:{sessionId}:messages        # å½“å‰ä¼šè¯æ¶ˆæ¯
session:{sessionId}:state           # Agent çŠ¶æ€ / å½“å‰é˜¶æ®µ
session:{sessionId}:summary         # å·²ç¡®è®¤çš„ç¨³å®šç»“è®º

### 4.3 è®°å¿†æ›´æ–°è§„åˆ™
æ¯å®Œæˆä¸€ä¸ªé˜¶æ®µï¼Œç”Ÿæˆé˜¶æ®µæ€§æ€»ç»“
æ€»ç»“å†™å…¥ session:{id}:summary
åç»­ Agent ä¼˜å…ˆè¯»å– summaryï¼Œè€ŒéåŸå§‹å¯¹è¯è®°å½•

## 5. å‰ç«¯ UI è®¾è®¡ï¼ˆMVPï¼‰

### 5.1 è®¾è®¡åŸåˆ™

| åŸåˆ™ | è¯´æ˜ |
|------|------|
| **Chat-First** | æ‰€æœ‰äº¤äº’ä»¥å¯¹è¯ä¸ºæ ¸å¿ƒï¼Œç”¨æˆ·æ— éœ€ç¦»å¼€èŠå¤©å³å¯å®Œæˆå…¨éƒ¨æ“ä½œã€‚ |
| **é›¶é…ç½®** | ä¸æä¾›ç‹¬ç«‹é…ç½®é¡µï¼Œæ‰€æœ‰é€‰æ‹©é€šè¿‡èŠå¤©å†…åµŒé€‰é¡¹å®Œæˆã€‚ |
| **é˜¶æ®µå¯è§†** | ç”¨æˆ·éšæ—¶çŸ¥é“è‡ªå·±â€œåœ¨å“ªä¸€æ­¥ã€è¿˜å‰©å‡ æ­¥â€ã€‚ |
| **ä¿¡æ¯åªè¯»æ‘˜è¦** | ä¾§è¾¹æ ä»…å±•ç¤ºå·²ç¡®è®¤ç»“è®ºï¼Œä¸å¯ç¼–è¾‘ï¼Œé¿å…ä¿¡æ¯æ±¡æŸ“ã€‚ |
| **ç§»åŠ¨ç«¯ä¼˜å…ˆ** | é»˜è®¤å¸ƒå±€ä»¥ç«–å±æ‰‹æœºä¸ºåŸºå‡†ï¼Œæ¡Œé¢ç«¯åŒæ¯”ä¾‹æ”¾å¤§ã€‚ |

### 5.2 å¸ƒå±€ç»“æ„

#### 5.2.1 ä¸»èŠå¤©åŒºï¼ˆå å± 100% â†’ æ¡Œé¢ 70%ï¼‰

| æ¨¡å— | è¯´æ˜ | äº¤äº’ç»†èŠ‚ |
|------|------|----------|
| é¡¶éƒ¨é˜¶æ®µæ¡ | å›ºå®šæ‚¬æµ®ï¼Œæ ¼å¼ï¼š`é˜¶æ®µ 2/4 Â· é£é™©ä¸æ–¹æ¡ˆ` | ç‚¹å‡»å¯å±•å¼€â€œé˜¶æ®µè·¯çº¿å›¾â€å¼¹å±‚ |
| æ¶ˆæ¯åˆ—è¡¨ | æŒ‰â€œç”¨æˆ·-ç³»ç»Ÿâ€äº¤æ›¿æ’åˆ—ï¼Œç³»ç»Ÿæ¶ˆæ¯å¯å¸¦å†…åµŒé€‰é¡¹ | ç”¨æˆ·æ¶ˆæ¯æ”¯æŒé‡æ–°ç¼–è¾‘ï¼ˆé•¿æŒ‰/å³é”®ï¼‰ |
| å¿«é€Ÿé€‰é¡¹ | å•é€‰/å¤šé€‰æŒ‰é’®æ°´å¹³æ’å¸ƒï¼Œæœ€å¤š 3 è¡Œï¼Œè¶…é‡æŠ˜å  | é€‰ä¸­åç«‹å³è‡ªåŠ¨å‘é€ï¼Œæ— éœ€äºŒæ¬¡ç¡®è®¤ |
| è¾“å…¥æ¡† | å•è¡Œæ–‡æœ¬ï¼Œå›è½¦å‘é€ï¼›Shift+å›è½¦æ¢è¡Œ | å³ä¾§â€œç¯æ³¡â€å›¾æ ‡å¯è§¦å‘â€œAI æç¤ºâ€ |
| åº•éƒ¨è¾…åŠ©æ  | å·¦ä¾§â€œä¿å­˜å¹¶ç¦»å¼€â€ï¼Œå³ä¾§â€œå¤åˆ¶æœ€ç»ˆæ–‡æ¡£â€ | ä»…æœ€ç»ˆé˜¶æ®µå‡ºç° |

#### 5.2.2 å³ä¾§æ‘˜è¦æ ï¼ˆæ¡Œé¢ 30%ï¼Œå¹³æ¿å¯æ”¶èµ·ï¼‰

| æ¨¡å— | å†…å®¹ | æ›´æ–°æ—¶æœº |
|------|------|----------|
| â‘  é˜¶æ®µæŒ‡ç¤ºå™¨ | å½“å‰é˜¶æ®µé«˜äº®ï¼Œå·²å®Œæˆé˜¶æ®µå¯ç‚¹å‡»å›æº¯ | é˜¶æ®µæ¨è¿›æ—¶ |
| â‘¡ å…³é”®ä¿¡æ¯æ‘˜è¦ | ä»¥â€œæ ‡ç­¾+ä¸€å¥è¯â€å½¢å¼å±•ç¤ºå·²ç¡®è®¤é¡¹ | æ¯å®Œæˆä¸€ä¸ªé˜¶æ®µåˆ·æ–° |
| â‘¢ éœ€æ±‚å®Œå¤‡åº¦ | ç¯å½¢è¿›åº¦æ¡ + ç™¾åˆ†æ¯”æ•°å­— | æ¯è½® Agent è¯„ä¼°ååˆ·æ–° |
| â‘£ å¿«æ·å¯¼å‡º | â€œå¤åˆ¶ Markdownâ€æŒ‰é’® | å§‹ç»ˆå¯è§ |

> æ‘˜è¦æ é»˜è®¤æŠ˜å äºç§»åŠ¨ç«¯åº•éƒ¨ï¼Œç‚¹å‡»â€œğŸ“‹â€å›¾æ ‡å±•å¼€ã€‚

### 5.3 è§†è§‰ä¸æ–‡æ¡ˆè§„èŒƒ

| å…ƒç´  | è§„èŒƒ |
|------|------|
| ä¸»è‰² | `#0A7BFF`ï¼ˆå¯¹è¯æ°”æ³¡ï¼‰ã€`#F5F7FA`ï¼ˆèƒŒæ™¯ï¼‰ |
| å­—ä½“ | 14 px åŸºç¡€å­—å·ï¼Œè¡Œé«˜ 1.5ï¼›ä»£ç å—ä½¿ç”¨ `SF Mono` |
| é˜¶æ®µæç¤ºæ–‡æ¡ˆ | ç»Ÿä¸€ä»¥â€œæˆ‘ä»¬â€å¼€å¤´ï¼Œä¾‹å¦‚ï¼šâ€œæˆ‘ä»¬å·²äº†è§£ä½ çš„ç›®æ ‡ç”¨æˆ·ï¼Œæ¥ä¸‹æ¥ä¸€èµ·çœ‹çœ‹æ½œåœ¨é£é™©ã€‚â€ |
| æŒ‰é’®æ–‡æ¡ˆ | åŠ¨è¯+åè¯ï¼Œâ‰¤ 6 å­—ï¼Œå¦‚â€œé€‰ Reactâ€ã€â€œç»§ç»­ä¸‹ä¸€æ­¥â€ |
| é”™è¯¯æç¤º | ä½¿ç”¨â€œè­¦å‘Šæ°”æ³¡â€è€Œéå¼¹çª—ï¼Œå¯ä¸€é”®é‡è¯• |

### 5.4 äº¤äº’æµç¨‹ç¤ºä¾‹ï¼ˆé˜¶æ®µ 2 â†’ 3ï¼‰

1. ç”¨æˆ·å®Œæˆé˜¶æ®µ 2 æœ€åä¸€æ¡é€‰æ‹©ï¼›
2. é¡¶éƒ¨é˜¶æ®µæ¡è‡ªåŠ¨æ»‘å…¥â€œé˜¶æ®µ 3/4 Â· æŠ€æœ¯æ ˆå»ºè®®â€ï¼›
3. å³ä¾§æ‘˜è¦æ æ–°å¢â€œé£é™©ç»“è®ºï¼šå»ºè®®ä¿å®ˆæ–¹æ¡ˆâ€ï¼›
4. å®Œå¤‡åº¦ç”± 65% â†’ 82%ï¼Œç¯å½¢æ¡åŠ¨ç”» 0.8 sï¼›
5. ç³»ç»Ÿå‘é€æŠ€æœ¯æ–¹æ¡ˆå¡ç‰‡ï¼Œå†…å« 3 ä¸ªæ¨ªå‘é€‰é¡¹æŒ‰é’®ï¼›
6. ç”¨æˆ·ç‚¹å‡»ä»»ä¸€é€‰é¡¹ â†’ æŒ‰é’®ç½®ç°å¹¶æ˜¾ç¤ºâ€œå·²é€‰â€ â†’ è‡ªåŠ¨å‘é€æ¶ˆæ¯ â†’ è¿›å…¥é˜¶æ®µ 4ã€‚

### 5.5 å¼‚å¸¸ä¸è¾¹ç•Œ

| åœºæ™¯ | å¤„ç†æ–¹æ¡ˆ |
|------|----------|
| ç”¨æˆ·åˆ·æ–°é¡µé¢ | é€šè¿‡ `sessionId` è‡ªåŠ¨æ¢å¤èŠå¤©ä½ç½®ä¸æ‘˜è¦ |
| ç½‘ç»œæ–­å¼€ | é¡¶éƒ¨å‡ºç°â€œç¦»çº¿â€çº¢è‰²æ¡ï¼Œæ¶ˆæ¯è¿›å…¥å¾…å‘é€é˜Ÿåˆ— |
| é•¿æ–‡æœ¬è¾“å…¥ | è¾“å…¥æ¡†è‡ªåŠ¨å¢é«˜ï¼Œæœ€å¤§ 6 è¡Œï¼Œè¶…å‡ºå‡ºç°å†…éƒ¨æ»šåŠ¨ |
| é€‰é¡¹è¿‡å¤š | æ¨ªå‘æ»šåŠ¨ + å·¦å³ç®­å¤´æŒ‡ç¤ºå™¨ï¼Œé»˜è®¤å±•ç¤º 3 é¡¹ |
| å›æº¯ä¿®æ”¹ | å…è®¸ç‚¹å‡»å·²ç¡®è®¤æ¶ˆæ¯é‡æ–°ç¼–è¾‘ï¼Œåç»­æ¶ˆæ¯è‡ªåŠ¨å¤±æ•ˆå¹¶é‡æ–°è¯„ä¼° |

> æ‰€æœ‰åŠ¨ç”»æ—¶é•¿ â‰¤ 300 msï¼Œä¼˜å…ˆä½¿ç”¨ CSS `transition`ï¼Œé¿å…é˜»å¡æ¸²æŸ“çº¿ç¨‹ã€‚

## 6. æœ€ç»ˆäº§å‡ºå®šä¹‰ï¼ˆMVP æ ¸å¿ƒäº¤ä»˜ï¼‰

### 6.1 æ–‡æ¡£æ ¼å¼
- **çº¯ Markdown**ï¼Œè¯­æ³•å…¼å®¹ GitHub Flavored Markdown  
- **å•æ–‡ä»¶è¾“å‡º**ï¼Œæ— å¤–éƒ¨ä¾èµ–  
- **ä¸€é”®å¤åˆ¶**æŒ‰é’®ï¼šå‰ç«¯æä¾›ã€Œå¤åˆ¶å…¨æ–‡ã€å›¾æ ‡ï¼Œç‚¹å‡»åç›´æ¥è½ç›˜å‰ªè´´æ¿  

### 6.2 æ–‡æ¡£ç»“æ„ï¼ˆå›ºå®š 9 å¤§ç« èŠ‚ï¼‰
> æ¯ç« æ ‡é¢˜å±‚çº§ä¸º `#`ï¼Œé¡ºåºä¸å¯è°ƒæ¢ï¼›æ— å†…å®¹æ—¶å†™ã€Œæš‚æ— ã€å ä½ï¼Œç¡®ä¿ç»“æ„å®Œæ•´ã€‚

| ç« èŠ‚ | è¯´æ˜ | æ˜¯å¦å…è®¸ç©º |
|------|------|------------|
| 1. é¡¹ç›®æ¦‚è¿° | ä¸€å¥è¯ç”µæ¢¯é™ˆè¿° + é¡¹ç›®ä»£å· | å¿…å¡« |
| 2. äº§å“ç›®æ ‡ | ç”¨ã€Œè§£å†³â€¦å®ç°â€¦ã€å¥å¼ï¼Œâ‰¤ 3 æ¡ | å¿…å¡« |
| 3. ç›®æ ‡ç”¨æˆ·ä¸ä½¿ç”¨åœºæ™¯ | ç”¨æˆ·ç”»åƒ + ç—›ç‚¹åœºæ™¯ï¼Œå„ 1 å¥ | å¿…å¡« |
| 4. MVP åŠŸèƒ½èŒƒå›´ | ç”¨æ— åºåˆ—è¡¨ï¼Œâ‰¤ 5 æ¡æ ¸å¿ƒåŠŸèƒ½ | å¿…å¡« |
| 5. éç›®æ ‡ï¼ˆæœ¬æœŸä¸åšï¼‰ | æ˜ç¡®æ’é™¤çš„åŠŸèƒ½æˆ–ä¼˜åŒ–ç‚¹ | å¿…å¡« |
| 6. æŠ€æœ¯æ–¹æ¡ˆè¯´æ˜ | çº¯å‰ç«¯ / å‰åç«¯ / BaaS æ–¹æ¡ˆä¸€å¥è¯ | å¿…å¡« |
| 7. æŠ€æœ¯æ ˆé€‰æ‹© | ç”¨è¡¨æ ¼ï¼šç±»åˆ« / é€‰å‹ / ç†ç”±ï¼Œâ‰¤ 6 è¡Œ | å¿…å¡« |
| 8. æ•°æ®ä¸æ¥å£è®¾è®¡ | ER å›¾æ–‡å­—æè¿° + å…³é”®æ¥å£åˆ—è¡¨ | å¯é€‰ï¼Œæ— æ•°æ®å†™ã€Œä¸é€‚ç”¨ã€ |
| 9. å¼€å‘æ­¥éª¤å»ºè®® | æŒ‰ã€ŒDay1~Day7ã€æ‹†ä»»åŠ¡ï¼Œæ¯å¤© 1 è¡Œ | å¿…å¡« |

### 6.3 è‡ªåŠ¨ç”Ÿæˆè§„åˆ™
1. æ‰€æœ‰ç« èŠ‚å†…å®¹å‡æ¥è‡ªã€Œsession:{id}:summaryã€ä¸­çš„å·²ç¡®è®¤å­—æ®µï¼Œç¦æ­¢ LLM äºŒæ¬¡å‘æŒ¥ã€‚  
2. ç« èŠ‚ 8 è‹¥æ— æ•°æ®å­˜å‚¨éœ€æ±‚ï¼Œåˆ™æ•´ç« è¾“å‡ºï¼š  
   ```markdown
   ## 8. æ•°æ®ä¸æ¥å£è®¾è®¡  
   æœ¬æœŸæ— æŒä¹…åŒ–æ•°æ®ï¼Œæ¥å£æš‚ä¸éœ€è¦ã€‚
   ```
3. ç« èŠ‚ 9 å¿…é¡»åŒ…å«å¯æ‰§è¡Œæ£€æŸ¥ç‚¹ï¼Œä¾‹å¦‚ï¼š  
   - Day1 åˆå§‹åŒ–ä»“åº“ & éƒ¨ç½²ç©ºé¡µé¢  
   - Day2 å®Œæˆç™»å½•é¡µ UI èµ°æŸ¥  
   â€¦  
   ç¡®ä¿å¼€å‘è€…å¤åˆ¶å³å¯é€æ—¥å¯¹ç…§ã€‚

## 7. æ¶æ„å›¾
### 7.1 ç³»ç»Ÿæ¶æ„å›¾
```mermaid
flowchart TB
  U[User] --> UI["Chat UI<br/>- chat bubble<br/>- options chips<br/>- side panel: profile & progress"]
  UI --> API["App Server / API<br/>Next.js Route / Edge Function"]
  API --> G["LangGraph Orchestrator<br/>(StateGraph TS)"]

  subgraph Memory["Memory Layer"]
    R[("Redis<br/>- short-term convo<br/>- long-term memory<br/>- summaries/profile")]
    LS[("Local JSON<br/>MVP fallback cache")]
  end

  subgraph Prompts["Prompt Assets"]
    P1[("extractor.system.md")]
    P2[("planner.system.md")]
    P3[("asker.system.md")]
    P4[("risk.system.md")]
    P5[("tech.system.md")]
    P6[("spec.system.md")]
  end

  subgraph Agents["Agents / Nodes"]
    N0["Router Node<br/>(domain detection)"]
    N1["Extractor Node<br/>(deterministic + LLM open extraction)"]
    N2["Planner Node<br/>(gap analysis + stop rules)"]
    N3["Asker Node<br/>(render ask_plan to user)"]
    N4["Risk Analyst Node<br/>(risks + mitigation + options)"]
    N5["Tech Advisor Node<br/>(stack choices + explanation)"]
    N6["Architect Node<br/>(DB/API/design drafts)"]
    N7["Plan Node<br/>(MVP boundary + milestone plan)"]
    N8["Spec Generator Node<br/>(final dev doc / Trae prompt)"]
  end

  API <--> R
  API <--> LS
  API --> Prompts
  Prompts --> G

  G --> N0 --> N1 --> N2
  N2 -->|need more info| N3 --> UI
  N2 -->|enough| N4 --> N5 --> N6 --> N7 --> N8 --> UI

  %% Observability
  subgraph Obs["Observability"]
    LOG["Logs/Tracing<br/>- node outputs<br/>- token/latency<br/>- failures"]
    EVAL["Evaluation<br/>- replay conversations<br/>- scoring: repetition/coverage"]
  end
  G --> LOG
  G --> EVAL

  %% Risk points
  N2 -.-> W1["âš ï¸ Repetition Loop<br/>ask_plan not bound to answers"]
  N0 -.-> W2["âš ï¸ Wrong Domain<br/>use ecommerce blueprint for community"]
  N1 -.-> W3["âš ï¸ Field Drift<br/>non-canonical values / schema mismatch"]
  W1 -.-> Obs
  W2 -.-> Obs
  W3 -.-> Obs
```
### 7.2 å•è½®å¯¹è¯å›åˆï¼šLangGraph èŠ‚ç‚¹æ—¶åº
```mermaid
sequenceDiagram
  participant User
  participant UI as Chat UI
  participant API as App Server
  participant G as LangGraph
  participant Redis as Redis Memory
  participant Router as Router(domain)
  participant Extractor as Extractor
  participant Planner as Planner
  participant Asker as Asker
  participant LLM as LLM

  User->>UI: è¾“å…¥éœ€æ±‚/å›ç­”é€‰é¡¹
  UI->>API: POST /chat {message, session_id}
  API->>Redis: Load session state (profile/summary/history)
  Redis-->>API: state

  API->>G: invoke(state + new message)

  G->>Router: detect domain (deterministic)
  Router-->>G: domain=community_events/ecommerce/unknown

  G->>Extractor: parse answer (regex bound to ask_plan) + open extraction
  Extractor->>LLM: (optional) open extraction with prompt assets
  LLM-->>Extractor: structured JSON
  Extractor-->>G: updated profile (canonical values)

  G->>Planner: gap analysis + ask_budget + stop rules
  Planner-->>G: ask_plan OR stop=true

  alt Need more info
    G->>Asker: render ask_plan to natural language + options
    Asker-->>G: question text + UI options
    G-->>API: response
    API->>Redis: save updated state
    API-->>UI: show question + chips
  else Enough info
    G->>LLM: risk analysis / tech advice / architecture / spec generation (multi-step)
    G-->>API: final spec + Trae prompt
    API->>Redis: save final artifacts
    API-->>UI: show spec + download/copy buttons
  end

  Note over Planner: âš ï¸ å¸¸è§æ•…éšœç‚¹ï¼š<br/>1) domainæœªåˆ‡æ¢â†’è“å›¾é”™<br/>2) answeredå­—æ®µæ²¡ç¡®è®¤â†’é‡å¤é—®<br/>3) canonicalä¸ä¸€è‡´â†’å­—æ®µæ¼‚ç§»
```